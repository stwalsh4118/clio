# 2-1 Research Cursor log format and storage location

[Back to task list](./tasks.md)

## Description

Investigate Cursor's log format, storage locations on macOS and Linux, and answer the open questions from the PBI PRD. This research task will inform the design and implementation of subsequent tasks by establishing the exact format and location of Cursor conversation logs.

## Status History

| Timestamp | Event Type | From Status | To Status | Details | User |
|-----------|------------|-------------|-----------|---------|------|
| 2025-11-14 22:41:32 | Created | N/A | Proposed | Task file created | System |
| 2025-11-15 05:30:00 | Status Change | Proposed | Agreed | Task approved | User |
| 2025-11-15 05:30:00 | Status Change | Agreed | InProgress | Started research | AI Agent |
| 2025-11-15 06:00:00 | Status Change | InProgress | Review | Research complete, all PRD questions answered | AI Agent |
| 2025-11-15 06:15:00 | Status Change | Review | Done | Research verified and documented | User |

## Requirements

1. Identify exact location of Cursor log directory on macOS
2. Identify exact location of Cursor log directory on Linux
3. Determine the file format used by Cursor for conversation logs (JSON, SQLite, etc.)
4. Identify how Cursor names/organizes conversation log files
5. Determine how to identify new conversations vs updates to existing conversations
6. Identify metadata available in Cursor logs (timestamps, session IDs, project context, etc.)
7. Document findings in a research document or guide
8. Answer open questions from PRD:
   - What is the exact format and location of Cursor conversation logs?
   - How do we determine session boundaries?
   - How do we detect which project a conversation belongs to?
   - How do we handle conversation updates?

## Implementation Plan

1. Research Cursor's storage mechanism:
   - Check common locations: `~/.cursor/`, `~/.config/cursor/`, `~/Library/Application Support/Cursor/` (macOS)
   - Use file system inspection to locate log files
   - Check Cursor documentation or source code if available
2. Analyze log file format:
   - Inspect actual log files (if accessible)
   - Determine if format is JSON, SQLite, or other
   - Document structure and schema
3. Identify file naming patterns:
   - How are conversation files named?
   - Are they organized in subdirectories?
   - How are updates tracked?
4. Extract sample data:
   - Capture sample log entries
   - Identify message structure
   - Identify user vs agent message indicators
   - Extract available metadata fields
5. Document findings:
   - Create research document: `docs/delivery/2/2-1-cursor-logs-research.md`
   - Include file locations, format specifications, and examples
   - Answer all open questions from PRD
   - Provide recommendations for implementation approach

## Test Plan

**Objective**: Verify research findings are accurate and complete.

**Test Scope**:
- File location discovery
- Format identification
- Data extraction validation

**Key Test Scenarios**:
1. Verify Cursor log directory can be located on macOS
2. Verify Cursor log directory can be located on Linux
3. Verify log file format can be parsed
4. Verify message structure can be extracted
5. Verify metadata fields are accessible

**Success Criteria**:
- All file locations documented
- Log format fully understood
- Sample data successfully extracted
- All open questions answered
- Research document complete

## Verification

- [x] Cursor log directory location identified for macOS
- [x] Cursor log directory location identified for Linux
- [x] Log file format documented
- [x] File naming patterns documented
- [x] Message structure documented
- [x] Metadata fields identified
- [x] Sample data extracted
- [x] Research document created with findings
- [x] All open questions from PRD answered

## Files Modified

- `docs/delivery/2/2-1-cursor-logs-research.md` (new) - Research findings document
- `docs/api-specs/cursor/cursor-api.md` (new) - Cursor database API specification

