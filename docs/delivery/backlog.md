# Product Backlog

This document contains all Product Backlog Items (PBIs) for the project, ordered by priority.

| ID | Actor | User Story | Status | Conditions of Satisfaction (CoS) |
|----|-------|------------|--------|----------------------------------|
| [1](./1/prd.md) | Developer | As a developer, I want to install and configure the insightd tool with a working CLI and configuration management so that I can begin using it to capture my development insights. | Proposed | 1. Go project initializes successfully with proper module structure<br>2. CLI framework provides all base commands (start, stop, status, config)<br>3. Configuration file is created in `~/.insightd/config.yaml` on first run<br>4. Configuration persists across application restarts<br>5. `insightd config --show` displays current configuration<br>6. `insightd config --add-watch` successfully adds directories to watch list<br>7. `insightd config --set-blog-repo` successfully sets blog repository path<br>8. `insightd start` creates background daemon process<br>9. `insightd stop` gracefully stops daemon process<br>10. `insightd status` accurately reports daemon state<br>11. All commands provide helpful error messages for invalid inputs<br>12. Configuration validation prevents invalid settings |
| [2](./2/prd.md) | Developer | As a developer, I want the system to automatically capture my Cursor conversations and export them to markdown files organized by date and project so that I have a complete record of my problem-solving process without manual intervention. | Proposed | 1. System successfully locates Cursor log directory on macOS and Linux<br>2. File system watcher detects new conversation files in Cursor log directory<br>3. Parser successfully extracts messages from Cursor log format<br>4. System correctly identifies user messages vs agent responses<br>5. Conversations are exported to markdown files in correct directory structure<br>6. Markdown files are human-readable and well-formatted<br>7. Session boundaries are correctly determined (time-based or manual)<br>8. System handles file system events without blocking<br>9. System continues operating stably for 8+ hour sessions<br>10. Multiple concurrent conversations are handled correctly<br>11. System gracefully handles Cursor log format variations |
| [3](./3/prd.md) | Developer | As a developer, I want the system to automatically capture git commits from my projects with metadata and diffs, organized by date and project, so that I can correlate code changes with my Cursor conversations. | Proposed | 1. System successfully discovers git repositories in configured watched directories<br>2. Git commit monitor detects new commits in watched repositories<br>3. System extracts commit metadata: hash, message, timestamp, author, branch<br>4. System extracts full commit diffs<br>5. Commits are exported to markdown files in correct directory structure<br>6. Commit markdown files are human-readable and well-formatted<br>7. Commits are correlated with conversation timestamps<br>8. System handles multiple repositories concurrently<br>9. System continues operating stably for 8+ hour sessions<br>10. Large commits (>1000 lines changed) are handled efficiently<br>11. System gracefully handles git repository errors (corrupted repos, etc.) |
| [4](./4/prd.md) | Developer | As a developer, I want captured conversations and commits to be indexed in a SQLite database so that I can quickly search and filter sessions by date, project, and keywords. | Proposed | 1. SQLite database is created in configured location (`~/.insightd/insightd.db`)<br>2. Database schema includes sessions, conversations, and commits tables<br>3. Full-text search indexes are created for keyword searching<br>4. New conversations are automatically indexed as they are captured<br>5. New commits are automatically indexed as they are captured<br>6. Sessions can be queried by date range<br>7. Sessions can be queried by project name<br>8. Full-text search returns relevant sessions by keywords<br>9. Query performance is acceptable (<100ms for typical queries)<br>10. Database handles thousands of sessions without performance degradation<br>11. Indexing failures are logged but don't prevent data capture<br>12. Database schema can be migrated if changes are needed |
| [5](./5/prd.md) | Developer | As a developer, I want to query and explore my captured sessions using CLI commands so that I can verify data capture is working and find specific sessions to review. | Proposed | 1. `insightd list` command displays recent sessions in readable format<br>2. `insightd list --hours N` filters sessions by time range<br>3. `insightd list --project <name>` filters sessions by project<br>4. `insightd search <query>` performs full-text search across conversations and commits<br>5. Search results show relevant context (matching conversation snippets)<br>6. `insightd show session <id>` displays full session details<br>7. Show command includes links to markdown files<br>8. Commands handle invalid inputs gracefully with helpful error messages<br>9. Commands return results in reasonable time (<1 second for typical queries)<br>10. Output is formatted clearly and is easy to read<br>11. Commands handle empty result sets gracefully |
| [6](./6/prd.md) | Developer | As a developer, I want to generate an analysis workspace with captured sessions and a prompt template so that cursor-agent can analyze my work and extract insights for blog content. | Proposed | 1. `insightd analyze --hours N` creates workspace with sessions from last N hours<br>2. `insightd analyze --session <id>` creates workspace for specific session<br>3. `insightd analyze --project <name> --days N` creates workspace filtered by project and time<br>4. Workspace includes all relevant conversation markdown files<br>5. Workspace includes all relevant commit markdown files<br>6. Workspace includes `README.md` with usage instructions<br>7. Workspace includes `prompt.md` with suggested cursor-agent prompt<br>8. Prompt template includes project context and session metadata<br>9. Workspace directory structure matches specified format<br>10. Command outputs clear message with workspace location<br>11. Workspace creation handles missing or corrupted data gracefully<br>12. Multiple analysis workspaces can coexist (different dates/projects) |
| [7](./7/prd.md) | Blogger | As a blogger, I want my blog repository included in analysis workspaces so that cursor-agent can identify connections between current work and past blog posts, enabling creation of interconnected blog content. | Proposed | 1. `insightd config --set-blog-repo <path>` successfully configures blog repository path<br>2. System validates that blog repository path exists and is a git repository<br>3. Analysis workspace includes blog repository in `blog-repo/` subdirectory<br>4. Blog repository is cloned (or symlinked) into workspace when `insightd analyze` runs<br>5. Prompt template references blog repository and includes instructions for finding connections<br>6. Cursor-agent can successfully read blog posts from workspace<br>7. System handles missing or invalid blog repository configuration gracefully<br>8. Multiple analysis workspaces can include the same blog repository<br>9. Blog repository is included in workspace README.md instructions |

## PBI History Log

| Timestamp | PBI_ID | Event_Type | Details | User |
|-----------|--------|------------|---------|------|
| 2025-01-27 00:00:00 | 1 | create_pbi | PBI created from PRD | System |
| 2025-01-27 00:00:00 | 2-7 | create_pbi | PBIs 2-7 created by breaking down original PBI-1 into logical components | System |
